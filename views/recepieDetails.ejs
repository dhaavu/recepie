<%- include('./partials/header'); -%>

<div class="container" style="margin-top: 40px;"> 
  
  <div class="row toolbar">
    <div class="col-6">
     <h4><%= recepie.name %></h4>  
    </div>
    <div class="col-6">
      <div class="push-right">
        <a href="/recepies/new"> <i class="fa fa-plus toolbarIcons"  id="new" aria-hidden="true"></i>
        </a>
       <i class="fa fa-edit toolbarIcons " id="edit"></i>
       
      </div>
   
    </div>
 </div>
 
</div>

<div class="container" style="margin-top: 40px;" >
       

    <form id="editForm" method="POST" action="/recepies/<%= recepie._id %>">
        <div class="form-group">
          <label for="">Recepie Name</label>
          <input readonly type="text" class="form-control" name="name" id="editName" aria-describedby="helpId" placeholder="" value="<%= recepie.name %>">
        </div>
      
        <div class="form-group">
          <label for="">Recepie Type</label>
          <select readonly disabled name="type" id="type" class="form-select" multiple aria-label="multiple select example" aria-describedby="helpId">
            <% var options = ['Breakfast', 'Entry', 'Smoothie', 'Salad', 'Desert'];  %>
            <% for(var i = 0; i < options.length; i++){ %>

                    <% if(recepie.type == options[i]) { %>
                        <option value="<%= options[i] %>" selected > <%= options[i]%> </option>
                   
                   <% } else { %>
                         <option value="<%= options[i]%>"  > <%= options[i]%> </option>
    
                  <% } %>
                <% } %> 
          </select>
        </div>
        <div class="form-group">
          <label for="">Procedure</label>
          <textarea class="form-control" name="procedure" id="procedure" rows="10"><%= recepie.procedure %></textarea>
        </div>
        <div class="form-group" style="display:none">
          <label for="">Recepie Id</label>
          <input type="text" class="form-control" name="id" id="editId" aria-describedby="helpId" placeholder="">
        </div>
        <div class="row justify-content-center toggle" style="display:none">
          <div class="col">
            <button id="editSubmit"  class="btn btn-danger">Save</button>
          </div>
          <div class="col">
            <a name="" id="cancel" class="btn btn-danger" href="#" role="button">Cancel</a>
          </div>
        </div>
        
    </form>


</div>

<script>
  tinymce.init({
    selector: 'textarea',
    plugins: 'a11ychecker advcode casechange formatpainter linkchecker autolink lists checklist media mediaembed pageembed permanentpen powerpaste table advtable tinycomments tinymcespellchecker',
    toolbar: 'a11ycheck addcomment showcomments casechange checklist code formatpainter pageembed permanentpen table',
    toolbar_mode: 'floating',
    tinycomments_mode: 'embedded',
    tinycomments_author: 'Author name',
    readonly:0
  });

 

  $('#edit').click(function(event){
    
    $('#editForm input').prop('readonly', false); 
    $('#editForm select').prop('disabled', false); 
    $('.toggle').css('display', "flex"); 
   // tinymce.activeEditor.mode.set("design"); 
    
  })

  $('#cancel').click(function(event){
    
    $('#editForm input').prop('readonly', true); 
    $('#editForm select').prop('disabled', true); 
    $('.toggle').css('display', "none"); 
   // tinymce.activeEditor.mode.set("design"); 
    
  })
</script>

<%- include('./partials/footer'); -%>